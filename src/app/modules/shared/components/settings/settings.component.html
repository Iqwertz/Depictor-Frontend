<div class="settings-container">
    <div class="close" (click)="close.emit()">
        <fa-icon [icon]="faTimes"></fa-icon>
    </div>
    <h1>Settings</h1>

    <div class="divider">
        <div class="label">General</div>
    </div>
    <div class="setting-line">
        <div class="label">Shutdown</div>
        <div class="action-button" (click)="confirmDialog!.show()">
            <fa-icon [icon]="faPowerOff"></fa-icon>
        </div>
    </div>

    <div class="setting-line">
        <div class="label small">BgRemove API key</div>
        <input type="text" class="action-textinput" [(ngModel)]="bgRemoveApiKey" />
        <div class="action-button" (click)="setBgRemoveApiKey()"><b>Set</b></div>
    </div>

    <div class="setting-line">
        <div class="label">API Entrypoint</div>
        <input type="text" class="action-textinput" [(ngModel)]="ip" />
        <div class="action-button" (click)="setNewIp()"><b>Set</b></div>
    </div>

    <div class="divider">
        <div class="label">Plotter Controlls</div>
    </div>

    <div class="setting-line">
        <div class="label">Home pen</div>
        <div class="action-button" (click)="home()"><b>Home</b></div>
    </div>

    <div class="setting-line">
        <div class="label">Move pen</div>
        <div class="button-group">
            <div class="action-button" (click)="penUp()"><b>Up</b></div>
            <div class="action-button" (click)="penDown()"><b>Down</b></div>
        </div>
    </div>

    <div class="divider">
        <div class="label">Updates</div>
    </div>

    <div class="setting-line">
        <div class="label small">Available Updates:</div>
        <div class="label small wide" *ngIf="!updatesAvailable">
            <b>System is on newest version</b>
        </div>
        <div class="action-button" *ngIf="updatesAvailable" (click)="update()">
            <b>{{ availableUpdateVersion }}</b>
        </div>
    </div>

    <div class="version">
        Frontend: {{ environment.version }} {{ environment.production ? "" : "Development" }} | Backend: {{ backendVersion.tag }} {{ backendVersion.production ? "" : "Development" }}
    </div>
</div>

<app-confirm-dialog #dialog (yes)="shutdown()"></app-confirm-dialog>
